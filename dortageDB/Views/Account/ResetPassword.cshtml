@* Views/Account/ResetPassword.cshtml *@
@model ResetPasswordVM

@{
    ViewData["Title"] = "Şifre Sıfırla";
}

<div class="auth-pages">

<div class="auth-container">
        <!-- Left Side - Branding -->
        <div class="auth-left">
            <div class="auth-brand">
                <a href="/" class="brand-logo">DORTAGE</a>
                <h1 class="brand-title">Yeni Şifre Oluşturun</h1>
                <p class="brand-subtitle">
                    Güçlü bir şifre seçin ve hesabınızı korumaya devam edin.
                    Şifreniz en az 6 karakter uzunluğunda olmalıdır.
                </p>
            </div>
            
            <div class="password-tips">
                <h3 class="tips-title">🔐 Güçlü Şifre İpuçları:</h3>
                <ul class="tips-list">
                    <li>
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="20 6 9 17 4 12"/>
                        </svg>
                        En az 6 karakter kullanın
                    </li>
                    <li>
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="20 6 9 17 4 12"/>
                        </svg>
                        Büyük ve küçük harfleri birleştirin
                    </li>
                    <li>
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="20 6 9 17 4 12"/>
                        </svg>
                        Sayılar ekleyin
                    </li>
                    <li>
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="20 6 9 17 4 12"/>
                        </svg>
                        Özel karakterler kullanın (!@@#$%^&*)
                    </li>
                    <li>
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="20 6 9 17 4 12"/>
                        </svg>
                        Kolay tahmin edilebilir kelimelerden kaçının
                    </li>
                </ul>
            </div>

            <div class="auth-illustration">
                <svg viewBox="0 0 400 300" xmlns="http://www.w3.org/2000/svg">
                    <!-- Lock illustration -->
                    <rect x="150" y="130" width="100" height="120" rx="10" fill="rgba(0, 10, 104, 0.1)"/>
                    <rect x="170" y="150" width="60" height="80" rx="5" fill="#000a68"/>
                    <circle cx="200" cy="190" r="12" fill="white"/>
                    <rect x="197" y="190" width="6" height="25" fill="white"/>
                    <path d="M170 130 C170 100, 230 100, 230 130" stroke="#000a68" stroke-width="8" fill="none"/>
                </svg>
            </div>
        </div>

        <!-- Right Side - Form -->
        <div class="auth-right">
            <div class="auth-form-container">
                <div class="auth-header">
                    <div class="auth-icon">
                        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
                            <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
                        </svg>
                    </div>
                    <h2>Yeni Şifre Belirleyin</h2>
                    <p class="auth-description">
                        Hesabınızı güvende tutmak için güçlü bir şifre seçin.
                    </p>
                </div>

                <form asp-action="ResetPassword" method="post" class="auth-form" id="resetPasswordForm">
                    @Html.AntiForgeryToken()
                    <input type="hidden" asp-for="Token" />
                    <input type="hidden" asp-for="Email" />

                    <div asp-validation-summary="ModelOnly" class="validation-summary"></div>

                    <div class="form-group">
                        <label>E-posta</label>
                        <div class="input-wrapper disabled">
                            <input type="email" value="@Model.Email" disabled />
                            <div class="input-icon">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="20 6 9 17 4 12"/>
                                </svg>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label asp-for="NewPassword">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
                                <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
                            </svg>
                            Yeni Şifre
                        </label>
                        <div class="input-wrapper">
                            <input asp-for="NewPassword" 
                                   type="password" 
                                   placeholder="Yeni şifrenizi girin"
                                   id="newPasswordInput"
                                   autocomplete="new-password"
                                   required />
                            <button type="button" class="toggle-password" data-target="newPasswordInput">
                                <svg class="eye-open" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                                    <circle cx="12" cy="12" r="3"/>
                                </svg>
                                <svg class="eye-closed" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display: none;">
                                    <path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"/>
                                    <line x1="1" y1="1" x2="23" y2="23"/>
                                </svg>
                            </button>
                        </div>
                        <div class="password-strength">
                            <div class="strength-bars">
                                <div class="strength-bar"></div>
                                <div class="strength-bar"></div>
                                <div class="strength-bar"></div>
                                <div class="strength-bar"></div>
                            </div>
                            <span class="strength-text">Şifre gücü: <strong id="strengthText">-</strong></span>
                        </div>
                        <span asp-validation-for="NewPassword" class="field-validation-error"></span>
                    </div>

                    <div class="password-requirements">
                        <p class="requirements-title">Şifre gereksinimleri:</p>
                        <ul class="requirements-list">
                            <li id="req-length">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"/>
                                </svg>
                                En az 6 karakter
                            </li>
                            <li id="req-uppercase">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"/>
                                </svg>
                                En az 1 büyük harf
                            </li>
                            <li id="req-number">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"/>
                                </svg>
                                En az 1 rakam
                            </li>
                            <li id="req-special">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"/>
                                </svg>
                                En az 1 özel karakter
                            </li>
                        </ul>
                    </div>

                    <div class="form-group">
                        <label asp-for="ConfirmPassword">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="20 6 9 17 4 12"/>
                            </svg>
                            Şifre Tekrar
                        </label>
                        <div class="input-wrapper">
                            <input asp-for="ConfirmPassword" 
                                   type="password" 
                                   placeholder="Şifrenizi tekrar girin"
                                   id="confirmPasswordInput"
                                   autocomplete="new-password"
                                   required />
                            <button type="button" class="toggle-password" data-target="confirmPasswordInput">
                                <svg class="eye-open" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                                    <circle cx="12" cy="12" r="3"/>
                                </svg>
                                <svg class="eye-closed" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display: none;">
                                    <path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"/>
                                    <line x1="1" y1="1" x2="23" y2="23"/>
                                </svg>
                            </button>
                            <div class="match-indicator" id="matchIndicator" style="display: none;">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="20 6 9 17 4 12"/>
                                </svg>
                            </div>
                        </div>
                        <span asp-validation-for="ConfirmPassword" class="field-validation-error"></span>
                    </div>

                    <button type="submit" class="btn-primary" id="submitBtn">
                        <span class="btn-text">Şifremi Sıfırla</span>
                        <span class="btn-loader" style="display: none;">
                            <svg class="spinner" viewBox="0 0 50 50">
                                <circle cx="25" cy="25" r="20" fill="none" stroke="currentColor" stroke-width="5"/>
                            </svg>
                        </span>
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="20 6 9 17 4 12"/>
                        </svg>
                    </button>
                </form>

                <div class="auth-footer">
                    <p class="footer-text">
                        <a asp-action="Login" asp-controller="Account">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="19" y1="12" x2="5" y2="12"/>
                                <polyline points="12 19 5 12 12 5"/>
                            </svg>
                            Giriş sayfasına dön
                        </a>
                    </p>
                </div>
            </div>
        </div>
    </div>
    </div>
    
    <link rel="stylesheet" href="~/css/auth-pages.css" asp-append-version="true" />
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
    <script src="~/lib/jquery-validation-unobtrusive/dist/jquery.validate.unobtrusive.min.js"></script>
    <script src="~/js/reset-password.js" asp-append-version="true"></script>
